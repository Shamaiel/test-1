<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Stock Management</title>
    <style>
      /* All necessery styles here  */
    </style>
  </head>
  <body>

    <div id="create">
      <h1>Add Stock in Portfolio</h1>
      <form>
        <input placeholder="Company Name" id="name" type="text" />
        <select id="category">
          <option value="">Stock Category</option>
          <option value="Large Cap">Large Cap</option>
          <option value="Mid Cap">Mid Cap</option>
          <option value="Small Cap">Small Cap</option>
        </select>
        <input type="text" id="sector" placeholder="Sector" />
        <input placeholder="Stock Price" id="price" type="number" />
        <input placeholder="Quantity" id="quantity" type="number" />
        <label for="">Add Date:- </label>
        <input type="date" id="addDate" />
        <input type="submit" value="Add Stock" />
      </form>
    </div>
    <h1 id="total-price">Total Price:- <span>0</span></h1>
    <table>
      <thead>
        <tr>
          <th>Stock Name</th>
          <th>Category</th>
          <th>Sector</th>
          <th>Price</th>
          <th>Quantity</th>
          <th>Total Cost</th>
          <th>Add Date</th>
          <th>Delete</th>
        </tr>
      </thead>
      <tbody>
        <!-- Append the rows here using JS  -->
      </tbody>
    </table>
  </body>
  <script>
    // Write all necessery JS Here
    
    var totalCost =0
    var totalPrice =0
   
   
   document.querySelector("form").addEventListener("submit", function(){


    
    event.preventDefault()
    var name = document.getElementById("name").value
    var category = document.getElementById("category").value
    var sector = document.getElementById("sector").value
    var price = document.getElementById("price").value
    var quant = document.getElementById("quantity").value
    var addDate = document.getElementById("addDate").value

    totalCost = price*quant
    totalPrice += totalCost

    if(name === "" || category === ""|| sector=== "" || price=== "" || quant=== ""  || addDate ===""){
      alert("Fill all input fields")
      return
    }

      var tbody = document.querySelector("tbody")
      var row = document.createElement("tr")
      var td1 = document.createElement("td")
      td1.textContent = name

      var td2 = document.createElement("td")
      td2.textContent = category

      var td3 = document.createElement("td")
      td3.textContent = sector

      var td4 = document.createElement("td")
      td4.textContent = price

      var td5 = document.createElement("td")
      td5.textContent = quant

      var td6=document.createElement("td");
      td6.textContent= totalCost;

      var td7 = document.createElement("td")
      td7.textContent = addDate

      var td8 = document.createElement("td")
      td8.textContent = "Delete"
     
      td8.addEventListener("click" , function (){
      totalPrice -= Number(event.target.parentNode.querySelector("td:nth-child(6)").textContent)
      event.target.parentNode.remove();
      document.querySelector("span").innerHTML = totalPrice;
    })

      row.append(td1,td2,td3,td4,td5,td6,td7,td8)

     tbody.append(row)
     document.querySelector("span").innerHTML = totalPrice;
     
     td8.style.color ="red"

    } )

    
    // function delRow(){
    //   totalPrice -= Number(event.target.parentNode.querySelector("td:nth-child(6)").textContent)
    //   event.target.parentNode.remove();
    //   document.querySelector("span").innerHTML = totalPrice;
    // }

    









  </script>
</html>
